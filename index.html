<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0f172a">
    <meta name="description" content="PayPal Transaction Dashboard - Analyze your PayPal transactions with detailed insights and visualizations">
    <title>PayPal Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>PayPal Transaction Dashboard</h1>
        </header>
        
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="instructions">How to Use</button>
                <button class="tab-btn" data-tab="about">About Me</button>
                <button class="tab-btn" data-tab="resources">Resources</button>
            </div>
            
            <div class="tab-content active" id="instructions">
                <h2>How to Use This Dashboard</h2>
                <ol>
                    <li><strong>Export Your PayPal Data:</strong>
                        <ul>
                            <li>Log into your PayPal account</li>
                            <li>Go to Statements > Activity > Download</li>
                            <li>Select "Balance affecting payments"</li>
                            <li>Choose your date range</li>
                            <li>Select CSV format</li>
                            <li>Click "Create Report"</li>
                        </ul>
                    </li>
                    <li><strong>Upload Your Data:</strong>
                        <ul>
                            <li>Drag and drop your CSV file into the upload zone below</li>
                            <li>Or click to select the file manually</li>
                        </ul>
                    </li>
                    <li><strong>Analyze Your Data:</strong>
                        <ul>
                            <li>Review automatic business transaction detection</li>
                            <li>Confirm recurring payment categories</li>
                            <li>Explore visualizations and insights</li>
                            <li>Export reports for tax purposes</li>
                        </ul>
                    </li>
                </ol>
                <div class="notice">
                    <p>‚ö†Ô∏è Important: Make sure to select "Balance affecting payments" when downloading your PayPal report for accurate analysis.</p>
                    <p>This tool processes data locally in your browser. No information is uploaded to any server.</p>
                </div>
            </div>
            
            <div class="tab-content" id="about">
                <h2>About the Developer & Tool</h2>
                <div class="about-content">
                    <div class="about-text">
                        <h3>Jeremy Andre</h3>
                        <p>I originally built this dashboard to solve my own needs - as someone doing a lot of business through PayPal, I needed a better way to analyze my transaction patterns and prepare for tax season. While PayPal's built-in tools are useful, I wanted deeper insights and more flexible analysis options.</p>
                        <p>After seeing how helpful it was for my own business operations, I decided to make it available to others who might face similar challenges. The tool combines my background in data analysis with practical business needs, creating visualizations and insights that make financial data more actionable.</p>
                        <p>Since I actively use this tool for my own business, I'm continuously adding features and improvements based on real-world usage and needs. Feel free to check out my other projects and tools at <a href="http://jkandre.science" target="_blank">jkandre.science</a>.</p>
                        <div class="social-links">
                            <a href="https://github.com/jandreanalytics" target="_blank">GitHub</a>
                            <a href="https://www.linkedin.com/in/jeremy-andre-a18925241/" target="_blank">LinkedIn</a>
                            <a href="http://jkandre.science" target="_blank">Portfolio</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="resources">
                <h2>PayPal Business Resources</h2>
                <div class="resources-grid">
                    <div class="resource-card">
                        <h3>PayPal Business Tools</h3>
                        <ul>
                            <li><a href="https://www.paypal.com/us/business/resources" target="_blank">PayPal Business Resource Center</a></li>
                            <li><a href="https://www.paypal.com/us/business" target="_blank">PayPal Business Hub</a></li>
                            <li><a href="https://www.paypal.com/us/webapps/mpp/payment-methods" target="_blank">Payment Solutions Guide</a></li>
                            <li><a href="https://www.paypal.com/us/smarthelp/home" target="_blank">PayPal Business Help Center</a></li>
                        </ul>
                    </div>
                    <div class="resource-card">
                        <h3>Transaction Management</h3>
                        <ul>
                            <li><a href="https://www.paypal.com/us/webapps/mpp/security/transaction-monitoring" target="_blank">Transaction Monitoring Tools</a></li>
                            <li><a href="https://www.paypal.com/us/business/accept-payments" target="_blank">Payment Acceptance Guide</a></li>
                            <li><a href="https://www.paypal.com/us/business/recurring-payments" target="_blank">Recurring Payments Setup</a></li>
                            <li><a href="https://www.paypal.com/us/brc/article/understanding-dispute-resolution" target="_blank">Dispute Resolution Guide</a></li>
                        </ul>
                    </div>
                    <div class="resource-card">
                        <h3>Integration & APIs</h3>
                        <ul>
                            <li><a href="https://developer.paypal.com/home" target="_blank">PayPal Developer Portal</a></li>
                            <li><a href="https://developer.paypal.com/api/rest/" target="_blank">REST API Documentation</a></li>
                            <li><a href="https://developer.paypal.com/docs/checkout/" target="_blank">PayPal Checkout Integration</a></li>
                            <li><a href="https://developer.paypal.com/tools/" target="_blank">Developer Tools</a></li>
                        </ul>
                    </div>
                    <div class="resource-card">
                        <h3>Financial Reports</h3>
                        <ul>
                            <li><a href="https://www.paypal.com/us/webapps/mpp/merchant-reporting" target="_blank">Merchant Reporting Tools</a></li>
                            <li><a href="https://www.paypal.com/us/brc/article/understanding-transaction-fees" target="_blank">Fee Structure Guide</a></li>
                            <li><a href="https://www.paypal.com/us/brc/article/tax-reporting-basics" target="_blank">Tax Reporting Guide</a></li>
                            <li><a href="https://www.paypal.com/us/brc/article/paypal-reports-and-downloads" target="_blank">Report Downloads Guide</a></li>
                        </ul>
                    </div>
                    <div class="resource-card">
                        <h3>Business Protection</h3>
                        <ul>
                            <li><a href="https://www.paypal.com/us/webapps/mpp/security/seller-protection" target="_blank">Seller Protection Program</a></li>
                            <li><a href="https://www.paypal.com/us/brc/article/understanding-fraud-prevention" target="_blank">Fraud Prevention Guide</a></li>
                            <li><a href="https://www.paypal.com/us/security/secure-seller-overview" target="_blank">Security Best Practices</a></li>
                            <li><a href="https://www.paypal.com/us/business/data-security" target="_blank">Data Security Guide</a></li>
                        </ul>
                    </div>
                    <div class="resource-card">
                        <h3>Business Growth</h3>
                        <ul>
                            <li><a href="https://www.paypal.com/us/business/cross-border-trade" target="_blank">International Sales Guide</a></li>
                            <li><a href="https://www.paypal.com/us/business/marketing-solutions" target="_blank">Marketing Solutions</a></li>
                            <li><a href="https://www.paypal.com/us/business/working-capital" target="_blank">PayPal Working Capital</a></li>
                            <li><a href="https://www.paypal.com/us/business/invoicing" target="_blank">Invoicing Solutions</a></li>
                        </ul>
                    </div>
                </div>
                <div class="resources-notice">
                    <p>üí° These resources are specifically curated for PayPal business users to help maximize their payment processing and business management capabilities.</p>
                </div>
            </div>

        </div>

        <div class="upload-section">
            <div id="dropZone" class="drop-zone">
                <p>Drag & Drop PayPal CSV or Click to Upload</p>
                <input type="file" id="fileInput" accept=".csv" hidden>
            </div>
        </div>

        <div class="dashboard hidden" id="dashboard">
            <div class="summary-cards">
                <div class="card">
                    <h3>Total Income</h3>
                    <p id="totalIncome">$0.00</p>
                </div>
                <div class="card">
                    <h3>Total Expenses</h3>
                    <p id="totalExpenses">$0.00</p>
                </div>
                <div class="card">
                    <h3>Net Balance</h3>
                    <p id="netBalance">$0.00</p>
                </div>
            </div>

            <div class="analytics-section">
                <h2>Business Analytics</h2>
                <div class="period-selector">
                    <select id="yearSelector">
                        <option value="all">All Years</option>
                    </select>
                    <select id="monthSelector">
                        <option value="all">All Months</option>
                    </select>
                    <span id="periodDisplay" class="period-display">All Time</span>
                </div>
                
                <div class="analytics-grid">
                    <div class="card customer-stats">
                        <h3>Customer Overview</h3>
                        <div class="stat-group">
                            <div class="stat">
                                <label>Total Customers</label>
                                <p id="totalCustomers">0</p>
                            </div>
                            <div class="stat">
                                <label>Repeat Customers</label>
                                <p id="repeatCustomers">0</p>
                            </div>
                            <div class="stat">
                                <label>Avg. Transaction</label>
                                <p id="avgTransaction">$0.00</p>
                            </div>
                            <div class="stat">
                                <label>Median Transaction</label>
                                <p id="medianTransaction">$0.00</p>
                            </div>
                            <div class="stat">
                                <label>Total Transactions</label>
                                <p id="totalTransactions">0</p>
                            </div>
                            <div class="stat">
                                <label>Avg. Monthly Rev.</label>
                                <p id="avgMonthlyRevenue">$0.00</p>
                            </div>
                        </div>
                    </div>

                    <div class="card top-customers">
                        <h3>Top Customers</h3>
                        <div id="topCustomersList" class="list-content"></div>
                    </div>

                    <div class="card peak-months">
                        <h3>Peak Months</h3>
                        <div id="peakMonthsList" class="list-content"></div>
                    </div>

                    <div class="card time-distribution">
                        <h3>Peak Transaction Hours</h3>
                        <div id="timeDistribution" class="list-content"></div>
                    </div>

                    <div class="card top-vendors">
                        <h3>Top Vendors</h3>
                        <div id="topVendorsList" class="list-content"></div>
                    </div>
                    <div class="card customer-retention">
                        <h3>Customer Retention</h3>
                        <div id="customerRetentionList" class="list-content">
                            <div class="item">
                                <span>Returning Rate</span>
                                <span id="returningRate">0%</span>
                            </div>
                            <div class="item">
                                <span>Avg. Customer Age</span>
                                <span id="avgCustomerAge">0 days</span>
                            </div>
                            <div class="item">
                                <span>Loyal Customers</span>
                                <span id="loyalCustomers">0</span>
                            </div>
                            <div class="item">
                                <span>Lifetime Value</span>
                                <span id="customerLifetimeValue">$0.00</span>
                            </div>
                            <div class="item">
                                <span>Monthly Churn</span>
                                <span id="monthlyChurn">0%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <h3>Income vs Expenses Over Time</h3>
                    <canvas id="incomeExpensesChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Top Customers Revenue</h3>
                    <canvas id="topCustomersChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Transaction Volume by Type</h3>
                    <canvas id="transactionTypeChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Monthly Revenue Trend</h3>
                    <canvas id="monthlyRevenueChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Net Cash Flow by Month</h3>
                    <canvas id="cashFlowChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Cumulative Balance</h3>
                    <canvas id="cumulativeBalanceChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Customer Growth</h3>
                    <canvas id="customerGrowthChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Transaction Amount Distribution</h3>
                    <canvas id="transactionDistributionChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Daily Transaction Pattern</h3>
                    <canvas id="dailyPatternChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Transaction Categories</h3>
                    <canvas id="categoryDistributionChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Payment Methods</h3>
                    <canvas id="paymentMethodsChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Seasonal Revenue Analysis</h3>
                    <canvas id="seasonalRevenueChart"></canvas>
                </div>
            </div>

            <div class="dashboard-section">
                <div id="taxSummary" class="tax-summary">
                    <!-- Tax summary will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Recurring Payments Modal -->
    <div id="recurringModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Significant Recurring Payments Detected</h2>
                <p>We've identified recurring payments that may be critical to your business.</p>
                <p class="threshold-note">Only recurring payments exceeding $500 or related to business services are shown.</p>
            </div>
            
            <div class="recurring-list">
                <table id="recurringTable">
                    <thead>
                        <tr>
                            <th>Vendor Name</th>
                            <th>Payment Frequency</th>
                            <th>Category</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div class="modal-actions">
                <button id="markAllBtn">Mark All as Business Expense</button>
                <button id="ignoreAllBtn">Ignore All</button>
                <button id="confirmBtn" class="primary">Confirm & Save</button>
                <button id="dismissBtn">Dismiss for Now</button>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
